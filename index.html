<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>TIMO CLUB</title>

<style>
body{
  font-family: sans-serif;
  background:#f6f6f6;
  max-width:430px;
  margin:auto;
  padding:15px;
}
h1,h2{text-align:center}
.hidden{display:none}

.card, .gender-btn, .pay{
  background:#fff;
  padding:16px;
  border-radius:14px;
  margin-bottom:12px;
  text-align:center;
  cursor:pointer;
  transition:.2s;
}

.card:hover,
.gender-btn:hover,
.pay:hover{
  transform:scale(1.02);
}

.desc{
  font-size:14px;
  text-align:center;
  margin-bottom:15px;
}

.pay.active{background:#c8f7c5}
.pay.disabled{
  background:#ddd;
  opacity:.6;
  cursor:not-allowed;
}

input{
  width:100%;
  padding:12px;
  margin:10px 0;
  border-radius:8px;
  border:1px solid #ccc;
}

.upload{
  background:#eee;
  padding:15px;
  border-radius:10px;
  display:block;
  text-align:center;
  cursor:pointer;
}
.upload input{display:none}

.error{
  background:#ffd6d6;
  color:#900;
  padding:10px;
  border-radius:10px;
  margin-bottom:10px;
  font-size:14px;
}
</style>
</head>
<body>

<!-- تحديد الجنس -->
<div id="genderPage">
  <h2>حدد الجنس</h2>

  <div class="gender-btn" onclick="setGender('ذكر')">ذكر</div>
  <div class="gender-btn" onclick="setGender('أنثى')">أنثى</div>
</div>

<!-- الباقات -->
<div id="plansPage" class="hidden">
  <h1>TIMO CLUB</h1>
  <p class="desc">مكالمات فيديو • مكالمات صوتية • رسائل طوال مدة الاشتراك</p>

  <div class="card" onclick="choosePlan('شهر',865)">
    <h3>شهر</h3><p>865 جنيه</p>
  </div>

  <div class="card" onclick="choosePlan('شهرين',1450)">
    <h3>شهرين</h3><p>1450 جنيه</p>
  </div>

  <div class="card" onclick="choosePlan('3 شهور',2050)">
    <h3>3 شهور</h3><p>2050 جنيه</p>
  </div>

  <div class="card" onclick="choosePlan('5 شهور',2500)">
    <h3>5 شهور</h3><p>2500 جنيه</p>
  </div>

  <div class="card" onclick="choosePlan('6 شهور',3650)">
    <h3>6 شهور</h3><p>3650 جنيه</p>
  </div>

  <div class="card" onclick="choosePlan('12 شهر',6895)">
    <h3>12 شهر</h3><p>6895 جنيه</p>
  </div>
</div>

<!-- الدفع -->
<div id="checkoutPage" class="hidden">
  <h2>طرق الدفع</h2>

  <div class="pay disabled">Visa / Mastercard (غير متوفر)</div>
  <div class="pay disabled">PayPal (غير متوفر)</div>
  <div class="pay active">Vodafone Cash</div>
  <div class="pay active">Etisalat Cash</div>
  <div class="pay active">InstaPay</div>

  <div id="errorBox" class="error hidden"></div>

  <input id="accountId" placeholder="ID الحساب داخل TIMO">

  <label class="upload">
    اضغط لرفع اسكرين التحويل
    <input id="screenshot" type="file" accept="image/*">
  </label>

  <div class="card" onclick="sendWhatsApp()">
    إرسال الطلب على واتساب
  </div>
</div>

<script>
const phone = "201034381180";

function setGender(g){
  localStorage.setItem("gender", g);
  showPage("plansPage");
}

function choosePlan(name, price){
  localStorage.setItem("plan", name);
  localStorage.setItem("price", price);
  showPage("checkoutPage");
}

function showPage(id){
  genderPage.classList.add("hidden");
  plansPage.classList.add("hidden");
  checkoutPage.classList.add("hidden");
  document.getElementById(id).classList.remove("hidden");
}

function sendWhatsApp(){
  const accountId = accountIdInput = document.getElementById("accountId").value.trim();
  const screenshot = document.getElementById("screenshot");
  const errorBox = document.getElementById("errorBox");

  let errors = [];

  if(accountId === "") errors.push("من فضلك أدخل ID الحساب");
  if(!screenshot.files || screenshot.files.length === 0)
    errors.push("من فضلك أرفق اسكرين التحويل");

  if(errors.length){
    errorBox.innerHTML = errors.join("<br>");
    errorBox.classList.remove("hidden");
    return;
  }

  errorBox.classList.add("hidden");

  alert("بعد فتح واتساب، من فضلك أرفق اسكرين التحويل ثم أرسل الرسالة");

  const msg = `
طلب اشتراك TIMO CLUB
------------------
الجنس: ${localStorage.getItem("gender")}
الباقة: ${localStorage.getItem("plan")}
السعر: ${localStorage.getItem("price")} جنيه
ID الحساب: ${accountId}
الخدمات: مكالمات فيديو - صوت - رسائل
`;

  window.location.href =
    `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
}
</script>

</body>
</html>
